# NOTE: 如果遇到 "Timeout waiting to lock journal cache" 错误，请按下列步骤排查：
# 1) 在项目 android 目录运行：gradlew.bat --stop
# 2) 检查并结束占用 .gradle 的进程（例如报错中显示的 Owner PID: 8472）：
#    tasklist | findstr java
#    taskkill /PID 8472 /F
# 3) 确认没有 gradle/java 进程后再删除锁文件（慎重）：
#    del %USERPROFILE%\.gradle\caches\journal-1\journal-1.lock
# 4) 如无法删除，重启电脑或排除杀毒软件对 %USERPROFILE%\.gradle 的监控。
# 5) 避免同时在多个终端/IDE 并发构建，或在 CI/IDE 中并行运行多次 Gradle。

# Increase Gradle JVM heap (如果机器内存充足可设为 4096M 或更高)
org.gradle.jvmargs=-Xmx4096M -Dfile.encoding=UTF-8 -XX:+HeapDumpOnOutOfMemoryError

# Increase Kotlin daemon heap
kotlin.daemon.jvm.options=-Xmx2048M -Dfile.encoding=UTF-8

# Disable Kotlin incremental compilation to avoid "different roots" incremental-cache errors
kotlin.incremental=false

# Run Kotlin compiler in-process to avoid daemon-related failures
kotlin.compiler.execution.strategy=in-process

org.gradle.parallel=true
android.useAndroidX=true
android.enableJetifier=true
